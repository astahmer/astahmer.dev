---
import { formatDate } from '@/utils/formatDate'
import { css } from '#/styled-system/css'

type Props = {
  title: string
  publishedAt: Date
  description: string
  slug: string
}

const { title, publishedAt, description, slug } = Astro.props
---

<a
  class={css({
    display: 'flex',
    maxWidth: 'sm',
    cursor: 'pointer',
    flexDirection: 'column',
    gap: '2',
    borderRadius: 'md',
    borderWidth: '1px',
    borderColor: 'neutral.700',
    padding: '4',
    transition: 'all',
    transitionDuration: '250ms',
    transitionTimingFunction: 'cubic-bezier(.4,0,.2,1)',
    _hover: {
      transform: 'translateY(calc(token(spacing.2) * -1))',
      borderColor: 'neutral.400',
    },
  })}
  href={`/posts/${slug}`}
>
  <div
    class={css({
      display: 'flex',
      width: 'full',
      flexDirection: 'column',
      justifyContent: 'space-between',
      gap: '2',
      md: { flexDirection: 'row', alignItems: 'center' },
    })}
  >
    <p class={css({ color: 'neutral.100' })}>{title}</p>
    <div class={css({ display: 'flex', flexDirection: 'row', alignItems: 'center', gap: '4' })}>
      <p>{formatDate(publishedAt)}</p>

      <svg
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
        class={css({
          transition: 'all',
          transitionDuration: '250ms',
          transitionTimingFunction: 'cubic-bezier(.4,0,.2,1)',
          _groupHover: {
            transform: 'translateX(token(spacing.1))',
          },
        })}
      >
        <path d="M5.25 12.75L12.75 5.25" stroke="#999999" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M5.25 5.25H12.75V12.75" stroke="#999999" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </div>
  </div>

  <p class={css({ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' })}>{description}</p>
</a>
